# Rocky Linux 10 Kickstart File
install
text 
keyboard us
lang en_US.UTF-8

rootpw --lock
selinux --enforcing
firewall --enabled --ssh

bootloader --location=mbr
clearpart --all --initlabel 
autopart

timezone America/Toronto

network --bootproto=dhcp --onboot=on --hostname=control-plane.rocky.k3s.local

user --name=ansible --groups=wheel --lock
sshkey --username=ansible "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEdeJaBQrpNT1lkJP1LERvJS0I07ft/rvwCgktpGL6ET control plane"


%packages
@^workstation-product-environment
kexec-tools
%end

%post --interpreter=/bin/bash
hostnamectl set-hostname control-plane.rocky.k3s.local
%end